{"version":3,"sources":["webpack:///billiard-element.export.min.js","webpack:///webpack/bootstrap cacbcd195ed70ff6a8ba","webpack:///./src/billiard-element.js","webpack:///./src/my-event-emitter.js","webpack:///./node_modules/_events@1.1.1@events/events.js"],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","TypeError","create","constructor","value","writable","setPrototypeOf","__proto__","_classCallCheck","instance","Constructor","_createClass","defineProperties","target","props","length","descriptor","key","protoProps","staticProps","_require","MyEventEmitter","prefix","div","document","createElement","style","cssText","console","log","webkitTransition","MozTransition","oTransition","msTransition","TouchDrive","el","this","_el","_x","_y","_history","_ALLOW_HISTORY","params","_params","event","changedTouches","clientX","clientY","preventDefault","x","y","changeX","changeY","contentWidth","contentHeight","res","timeStamp","history","push","shift","allowHistory","last","lastPreviou","time","speed","Math","sqrt","angle","atan2","BilliardElement","_MyEventEmitter","arguments","undefined","_this","getPrototypeOf","_initElStyle","_interval","status","body","clientWidth","offsetWidth","clientHeight","offsetHeight","_getMoveArea","width","height","frictionSpeed","moveAngle","FPS","touchDriveCoefficient","autoAttractedByWall","attractSpeed","_moveAreaPadding","top","bottom","left","right","_touchDrive","init","addEventListener","e","start","move","_updateEl","moveRes","end","drive","con","padding","_this2","movePath","_getMovePath","_getNextFsMoveInfo","_move","position","parentEl","getElementsByTagName","areaWidth","areaHeight","animations","resolve","_this3","fpsTime","setInterval","coorChange","pop","clearInterval","endSpeed","averageSpeed","_getXY","distance","sin","cos","fn","reverse","_get","receiver","Function","desc","getOwnPropertyDescriptor","parent","EventEmitter","_EventEmitter","apply","_events","_maxListeners","isFunction","arg","isNumber","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNaN","emit","type","er","handler","len","args","listeners","error","Error","err","context","Array","slice","addListener","listener","newListener","warned","trace","on","once","g","removeListener","fired","list","splice","removeAllListeners","listenerCount","evlistener","emitter"],"mappings":"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","file":"billiard-element.export.min.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _require = __webpack_require__(1),\n    MyEventEmitter = _require.MyEventEmitter;\n\nvar prefix = function () {\n    var div = document.createElement('div');\n    var cssText = '-webkit-transition:all .1s; -moz-transition:all .1s; -o-transition:all .1s; -ms-transition:all .1s; transition:all .1s;';\n    div.style.cssText = cssText;\n    var style = div.style;\n    console.log(\"asasdsasddaadasdas\");\n    if (style.webkitTransition) {\n        return 'WebkitTransform';\n    }\n    if (style.MozTransition) {\n        return 'MozTransform';\n    }\n    if (style.oTransition) {\n        return 'oTransform';\n    }\n    if (style.msTransition) {\n        return 'msTransform';\n    }\n    return 'transform';\n}();\n\nvar TouchDrive = function () {\n    function TouchDrive(el) {\n        _classCallCheck(this, TouchDrive);\n\n        this._el = el;\n        this._x = 0;\n        this._y = 0;\n        this._history = [];\n        this._ALLOW_HISTORY = 3;\n    }\n\n    _createClass(TouchDrive, [{\n        key: 'init',\n        value: function init(params) {\n            this._params = params;\n            return this;\n        }\n    }, {\n        key: 'start',\n        value: function start(event) {\n            //event.preventDefault();\n            this._x = event.changedTouches[0].clientX;\n            this._y = event.changedTouches[0].clientY;\n        }\n    }, {\n        key: 'move',\n        value: function move(event) {\n            event.preventDefault();\n            var x = event.changedTouches[0].clientX;\n            var y = event.changedTouches[0].clientY;\n            var changeX = x - this._x;\n            var changeY = y - this._y;\n            this._x = x;\n            this._y = y;\n            var p = this._params;\n            p.x += changeX;\n            p.y += changeY;\n            p.x = p.x < 0 ? 0 : p.x;\n            p.y = p.y < 0 ? 0 : p.y;\n            p.x = p.x > p.contentWidth ? p.contentWidth : p.x;\n            p.y = p.y > p.contentHeight ? p.contentHeight : p.y;\n            var res = {\n                x: x,\n                y: y,\n                timeStamp: event.timeStamp\n            };\n            var history = this._history;\n            history.push(res);\n            if (history.length > this._ALLOW_HISTORY) {\n                history.shift();\n            }\n            return this;\n        }\n    }, {\n        key: 'end',\n        value: function end(event) {\n            //event.preventDefault();\n            var history = this._history;\n            var allowHistory = this._ALLOW_HISTORY;\n            if (history.length < allowHistory) {\n                this._history = [];\n                return false;\n            };\n            //console.log(history.length);\n            var last = history[history.length - 1];\n            var lastPreviou = history[history.length - 2];\n            var changeX = last.x - lastPreviou.x;\n            var changeY = last.y - lastPreviou.y;\n            var time = last.timeStamp - lastPreviou.timeStamp;\n            var speed = Math.sqrt(changeX * changeX + changeY * changeY) * 1000 / time;\n            if (speed < 500) {\n                this._history = [];\n                return false;\n            };\n            var pi = 3.1415926535898;\n            var angle = Math.atan2(-changeY, changeX) * 180 / pi;\n            if (angle < 0) angle = 360 + angle;\n            this._history = [];\n            return {\n                speed: speed,\n                angle: angle\n            };\n        }\n    }]);\n\n    return TouchDrive;\n}();\n\nvar BilliardElement = function (_MyEventEmitter) {\n    _inherits(BilliardElement, _MyEventEmitter);\n\n    _createClass(BilliardElement, null, [{\n        key: 'create',\n        value: function create(el) {\n            var autoStart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n            return new this(el, autoStart);\n        }\n    }]);\n\n    function BilliardElement(el) {\n        var autoStart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n        _classCallCheck(this, BilliardElement);\n\n        var _this = _possibleConstructorReturn(this, (BilliardElement.__proto__ || Object.getPrototypeOf(BilliardElement)).call(this));\n\n        _this._el = el;\n        _this._initElStyle(el);\n        _this._interval = null;\n        _this.status = 'static'; // 'static' | 'moving'\n        var body = document.body;\n        var contentWidth = body.clientWidth - el.offsetWidth;\n        var contentHeight = body.clientHeight - el.offsetHeight;\n        var area = _this._getMoveArea(el);\n        //console.log({el: el});\n        _this._params = {\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0,\n            contentWidth: contentWidth,\n            contentHeight: contentHeight,\n            speed: 0,\n            frictionSpeed: 1000,\n            moveAngle: 0,\n            FPS: 50,\n            touchDriveCoefficient: 1,\n            autoAttractedByWall: true,\n            attractSpeed: 400\n        };\n        _this._moveAreaPadding = {\n            top: 0,\n            bottom: 0,\n            left: 0,\n            right: 0\n        };\n        _this._touchDrive = new TouchDrive(el).init(_this._params);\n        el.addEventListener('touchstart', function (e) {\n            _this._touchDrive.start(e);\n        });\n        el.addEventListener('touchmove', function (e) {\n            _this._touchDrive.move(e);\n            _this._updateEl(_this._params.x, _this._params.y);\n        });\n        el.addEventListener('touchend', function (e) {\n            var moveRes = _this._touchDrive.end(e);\n            if (!!moveRes) {\n                var speed = moveRes.speed * _this._params.touchDriveCoefficient;\n                _this.drive(speed, moveRes.angle);\n            }\n        });\n        return _this;\n    }\n\n    _createClass(BilliardElement, [{\n        key: 'config',\n        value: function config() {\n            var con = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            var p = this._params;\n            p.width = con.width || p.width;\n            p.height = con.height || p.height;\n            p.FPS = con.FPS || p.FPS;\n            p.frictionSpeed = con.frictionSpeed || p.frictionSpeed;\n            p.touchDriveCoefficient = con.touchDriveCoefficient || p.touchDriveCoefficient;\n            var body = document.body;\n            if (!!con.width) {\n                p.contentWidth = body.clientWidth - con.width;\n            }\n            if (!!con.height) {\n                p.contentHeight = body.clientHeight - con.height;\n            }\n            p.x = con.top || p.x;\n            p.y = con.left || p.y;\n            if (!!con.right) p.x = p.contentWidth - con.right;\n            if (!!con.bottom) p.y = p.contentHeight - con.bottom;\n            this._updateEl(p.x, p.y);\n            return this;\n        }\n    }, {\n        key: 'setMoveAreaPadding',\n        value: function setMoveAreaPadding() {\n            var con = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            var body = document.body;\n            var padding = this._moveAreaPadding;\n            var p = this._params;\n            var style = this._el.style;\n            style.top = (padding.top = con.top || padding.top) + 'px';\n            style.left = (padding.left = con.left || padding.left) + 'px';\n            padding.bottom = con.bottom || padding.bottom;\n            padding.right = con.right || padding.right;\n            p.contentWidth = body.clientWidth - p.width - padding.left - padding.right;\n            p.contentHeight = body.clientHeight - p.height - padding.top - padding.right;\n            return this;\n        }\n    }, {\n        key: 'drive',\n        value: function drive(speed, angle) {\n            var _this2 = this;\n\n            if (typeof speed !== 'number' && typeof angle !== 'number') throw 'speed or angle not matching';\n            if (this.status === 'moving') return undefined;\n            this._params.speed = speed;\n            this._params.moveAngle = angle;\n            var movePath = this._getMovePath(function (res) {\n                return _this2._getNextFsMoveInfo(_this2._params);\n            });\n            this._move(movePath);\n            return this;\n        }\n    }, {\n        key: '_initElStyle',\n        value: function _initElStyle(el) {\n            el.style.position = 'fixed';\n            el.style.top = \"0px\";\n            el.style.left = \"0px\";\n            return this;\n        }\n    }, {\n        key: '_getMoveArea',\n        value: function _getMoveArea(el) {\n            var parentEl = document.getElementsByTagName('body')[0];\n            var areaWidth = parentEl.offsetWidth - el.offsetWidth;\n            var areaHeight = parentEl.offsetHeight - el.offsetHeight;\n            return {\n                areaWidth: areaWidth,\n                areaHeight: areaHeight\n            };\n        }\n    }, {\n        key: '_updateEl',\n        value: function _updateEl(x, y) {\n            this._el.style[prefix] = \"translate(\" + x + \"px,\" + y + 'px)';\n            return this;\n        }\n    }, {\n        key: '_move',\n        value: function _move(animations, resolve) {\n            var _this3 = this;\n\n            var style = this._el.style;\n            var fpsTime = 1000 / this._params.FPS;\n            this.status = 'moving';\n            this._interval = setInterval(function () {\n                var coorChange = animations.pop();\n                if (!coorChange) {\n                    clearInterval(_this3._interval);\n                    _this3.status = 'static';\n                    return;\n                };\n                _this3._updateEl(coorChange.x, coorChange.y);\n            }, fpsTime);\n            return this;\n        }\n    }, {\n        key: '_getNextFsMoveInfo',\n        value: function _getNextFsMoveInfo(params) {\n            var angle = params.moveAngle;\n            var endSpeed = params.speed - params.frictionSpeed / params.FPS;\n            if (endSpeed <= 0) {\n                endSpeed = 0;\n                return;\n            };\n            var averageSpeed = (params.speed + endSpeed) / 2;\n            params.speed = endSpeed;\n            if (params.x >= params.contentWidth) {\n                params.x = params.contentWidth;\n                if (angle > 270) {\n                    params.moveAngle = 180 - params.moveAngle;\n                } else {\n                    params.moveAngle = 180 - params.moveAngle;\n                }\n            }\n            if (params.x <= 0) {\n                params.x = 0;\n                if (angle > 180) {\n                    params.moveAngle = 180 - params.moveAngle;\n                } else {\n                    params.moveAngle = 180 - params.moveAngle;\n                }\n            }\n            if (params.y >= params.contentHeight) {\n                params.y = params.contentHeight;\n                if (angle > 270) {\n                    params.moveAngle = 360 - params.moveAngle;\n                } else {\n                    params.moveAngle = 360 - params.moveAngle;\n                }\n            }\n            if (params.y <= 0) {\n                params.y = 0;\n                if (angle > 90) {\n                    params.moveAngle = 360 - params.moveAngle;\n                } else {\n                    params.moveAngle = 360 - params.moveAngle;\n                }\n            }\n            var distance = averageSpeed / params.FPS;\n            return this._getXY(params, averageSpeed, params.moveAngle);\n        }\n    }, {\n        key: '_getXY',\n        value: function _getXY(params, speed, angle) {\n            var pai = 0.017453293;\n            var distance = speed / params.FPS;\n            var y = -distance * Math.sin(angle * pai);\n            var x = distance * Math.cos(angle * pai);\n            params.x += x;\n            params.y += y;\n            params.x = params.x < 0 ? 0 : params.x;\n            params.y = params.y < 0 ? 0 : params.y;\n            params.x = params.x > params.contentWidth ? params.contentWidth : params.x;\n            params.y = params.y > params.contentHeight ? params.contentHeight : params.y;\n            return {\n                x: params.x,\n                y: params.y\n            };\n        }\n    }, {\n        key: '_getMovePath',\n        value: function _getMovePath(fn) {\n            var movePath = [];\n            for (var i = 0; i < 100000; i++) {\n                var res = fn();\n                if (!res) break;\n                movePath.push(res);\n            }\n            movePath.reverse();\n            return movePath;\n        }\n    }, {\n        key: '_getNextFsAttractInfo',\n        value: function _getNextFsAttractInfo(params) {\n            var angle = 0;\n            if (params.x > params.contentWidth) {\n                params.x = params.contentWidth;\n                angle = 180;\n                params.speed = -params.speed;\n            }\n            var endSpeed = params.speed + params.attractSpeed / params.FPS;\n            if (endSpeed <= 0) {\n                endSpeed = 0;\n                angle = 0;\n                params.speed = -params.speed;\n                return;\n            };\n            var averageSpeed = (params.speed + endSpeed) / 2;\n            params.speed = endSpeed;\n            return this._getXY(params, averageSpeed, angle);\n        }\n    }]);\n\n    return BilliardElement;\n}(MyEventEmitter);\n\nBilliardElement.BilliardElement = BilliardElement;\nmodule.exports = BilliardElement;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _require = __webpack_require__(2),\n    EventEmitter = _require.EventEmitter;\n\nvar MyEventEmitter = function (_EventEmitter) {\n    _inherits(MyEventEmitter, _EventEmitter);\n\n    function MyEventEmitter() {\n        _classCallCheck(this, MyEventEmitter);\n\n        return _possibleConstructorReturn(this, (MyEventEmitter.__proto__ || Object.getPrototypeOf(MyEventEmitter)).apply(this, arguments));\n    }\n\n    _createClass(MyEventEmitter, [{\n        key: 'emit',\n        value: function emit() {\n            return _get(MyEventEmitter.prototype.__proto__ || Object.getPrototypeOf(MyEventEmitter.prototype), 'emit', this).apply(this, arguments);\n        }\n    }]);\n\n    return MyEventEmitter;\n}(EventEmitter);\n\nmodule.exports.MyEventEmitter = MyEventEmitter;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// billiard-element.export.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cacbcd195ed70ff6a8ba","const {\n    MyEventEmitter\n} = require('./my-event-emitter.js');\n\n\nlet prefix = function() {\n    var div = document.createElement('div');\n    var cssText = '-webkit-transition:all .1s; -moz-transition:all .1s; -o-transition:all .1s; -ms-transition:all .1s; transition:all .1s;';\n    div.style.cssText = cssText;\n    var style = div.style;\n    console.log(\"asasdsasddaadasdas\");\n    if (style.webkitTransition) {\n        return 'WebkitTransform';\n    }\n    if (style.MozTransition) {\n        return 'MozTransform';\n    }\n    if (style.oTransition) {\n        return 'oTransform';\n    }\n    if (style.msTransition) {\n        return 'msTransform';\n    }\n    return 'transform';\n}();\n\nclass TouchDrive {\n    constructor(el) {\n        this._el = el;\n        this._x = 0;\n        this._y = 0;\n        this._history = [];\n        this._ALLOW_HISTORY = 3;\n    }\n    init(params) {\n        this._params = params;\n        return this;\n    }\n    start(event) {\n        //event.preventDefault();\n        this._x = event.changedTouches[0].clientX;\n        this._y = event.changedTouches[0].clientY;\n    }\n    move(event) {\n        event.preventDefault();\n        const x = event.changedTouches[0].clientX;\n        const y = event.changedTouches[0].clientY;\n        const changeX = x - this._x;\n        const changeY = y - this._y;\n        this._x = x;\n        this._y = y;\n        let p = this._params;\n        p.x += changeX;\n        p.y += changeY;\n        p.x = p.x < 0 ? 0 : p.x;\n        p.y = p.y < 0 ? 0 : p.y;\n        p.x = p.x > p.contentWidth ? p.contentWidth : p.x;\n        p.y = p.y > p.contentHeight ? p.contentHeight : p.y;\n        const res = {\n            x: x,\n            y: y,\n            timeStamp: event.timeStamp\n        }\n        let history = this._history;\n        history.push(res);\n        if (history.length > this._ALLOW_HISTORY) {\n            history.shift();\n        }\n        return this;\n    }\n    end(event) {\n        //event.preventDefault();\n        let history = this._history;\n        const allowHistory = this._ALLOW_HISTORY;\n        if (history.length < allowHistory) {\n            this._history = [];\n            return false;\n        };\n        //console.log(history.length);\n        const last = history[history.length - 1];\n        const lastPreviou = history[history.length - 2];\n        const changeX = last.x - lastPreviou.x;\n        const changeY = last.y - lastPreviou.y;\n        const time = last.timeStamp - lastPreviou.timeStamp;\n        let speed = Math.sqrt(changeX * changeX + changeY * changeY) * 1000 / time;\n        if (speed < 500) {\n            this._history = [];\n            return false;\n        };\n        const pi = 3.1415926535898\n        let angle = Math.atan2(-changeY, changeX) * 180 / pi;\n        if (angle < 0) angle = 360 + angle;\n        this._history = [];\n        return {\n            speed: speed,\n            angle: angle\n        }\n    }\n}\nclass BilliardElement extends MyEventEmitter {\n    static create(el, autoStart = true) {\n        return new this(el, autoStart);\n    }\n    constructor(el, autoStart = true) {\n        super();\n        this._el = el;\n        this._initElStyle(el);\n        this._interval = null;\n        this.status = 'static'; // 'static' | 'moving'\n        const body = document.body;\n        const contentWidth = body.clientWidth - el.offsetWidth;\n        const contentHeight = body.clientHeight - el.offsetHeight;\n        const area = this._getMoveArea(el);\n        //console.log({el: el});\n        this._params = {\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0,\n            contentWidth: contentWidth,\n            contentHeight: contentHeight,\n            speed: 0,\n            frictionSpeed: 1000,\n            moveAngle: 0,\n            FPS: 50,\n            touchDriveCoefficient: 1,\n            autoAttractedByWall: true,\n            attractSpeed: 400\n        };\n        this._moveAreaPadding = {\n            top: 0,\n            bottom: 0,\n            left: 0,\n            right: 0\n        };\n        this._touchDrive = (new TouchDrive(el)).init(this._params);\n        el.addEventListener('touchstart', e => {\n            this._touchDrive.start(e);\n        });\n        el.addEventListener('touchmove', e => {\n            this._touchDrive.move(e);\n            this._updateEl(this._params.x, this._params.y);\n        });\n        el.addEventListener('touchend', e => {\n            let moveRes = this._touchDrive.end(e);\n            if (!!moveRes) {\n                const speed = moveRes.speed * this._params.touchDriveCoefficient;\n                this.drive(speed, moveRes.angle);\n            }\n        });\n    }\n    config(con = {}) {\n        let p = this._params;\n        p.width = con.width || p.width;\n        p.height = con.height || p.height;\n        p.FPS = con.FPS || p.FPS;\n        p.frictionSpeed = con.frictionSpeed || p.frictionSpeed;\n        p.touchDriveCoefficient = con.touchDriveCoefficient || p.touchDriveCoefficient;\n        const body = document.body;\n        if(!!con.width) {\n            p.contentWidth = body.clientWidth - con.width;\n        }\n        if(!!con.height) {\n            p.contentHeight = body.clientHeight - con.height;\n        }\n        p.x = con.top || p.x;\n        p.y = con.left || p.y;\n        if(!!con.right) p.x = p.contentWidth - con.right;\n        if(!!con.bottom) p.y = p.contentHeight - con.bottom;\n        this._updateEl(p.x, p.y);\n        return this;\n    }\n    setMoveAreaPadding(con = {}) {\n        const body = document.body;\n        let padding = this._moveAreaPadding;\n        let p = this._params;\n        let style = this._el.style;\n        style.top = (padding.top = con.top|| padding.top) + 'px';\n        style.left = (padding.left = con.left|| padding.left) + 'px';\n        padding.bottom = con.bottom|| padding.bottom;\n        padding.right = con.right|| padding.right\n        p.contentWidth = body.clientWidth - p.width - padding.left - padding.right;\n        p.contentHeight = body.clientHeight - p.height - padding.top  - padding.right;\n        return this;\n    }\n    drive(speed, angle) {\n        if (typeof speed !== 'number' && typeof angle !== 'number')\n            throw 'speed or angle not matching';\n        if (this.status === 'moving') return undefined;\n        this._params.speed = speed;\n        this._params.moveAngle = angle;\n        let movePath = this._getMovePath(res => {\n            return this._getNextFsMoveInfo(this._params);\n        });\n        this._move(movePath);\n        return this;\n    }\n    _initElStyle(el) {\n        el.style.position = 'fixed';\n        el.style.top = \"0px\";\n        el.style.left = \"0px\";\n        return this;\n    }\n    _getMoveArea(el) {\n        const parentEl = document.getElementsByTagName('body')[0];\n        const areaWidth = parentEl.offsetWidth - el.offsetWidth;\n        const areaHeight = parentEl.offsetHeight - el.offsetHeight;\n        return {\n            areaWidth: areaWidth,\n            areaHeight: areaHeight\n        }\n    }\n    _updateEl(x, y) {\n        this._el.style[prefix] = \"translate(\" + x + \"px,\" + y + 'px)';\n        return this;\n    }\n    _move(animations, resolve) {\n        const style = this._el.style;\n        const fpsTime = 1000 / this._params.FPS;\n        this.status = 'moving';\n        this._interval = setInterval(() => {\n            const coorChange = animations.pop();\n            if (!coorChange) {\n                clearInterval(this._interval);\n                this.status = 'static';\n                return;\n            };\n            this._updateEl(coorChange.x, coorChange.y);\n        }, fpsTime);\n        return this;\n    }\n    _getNextFsMoveInfo(params) {\n        const angle = params.moveAngle;\n        let endSpeed = params.speed - params.frictionSpeed / params.FPS;\n        if (endSpeed <= 0) {\n            endSpeed = 0;\n            return;\n        };\n        const averageSpeed = (params.speed + endSpeed) / 2;\n        params.speed = endSpeed;\n        if (params.x >= params.contentWidth) {\n            params.x = params.contentWidth;\n            if (angle > 270) {\n                params.moveAngle = 180 - params.moveAngle;\n            } else {\n                params.moveAngle = 180 - params.moveAngle;\n            }\n        }\n        if (params.x <= 0) {\n            params.x = 0;\n            if (angle > 180) {\n                params.moveAngle = 180 - params.moveAngle;\n            } else {\n                params.moveAngle = 180 - params.moveAngle;\n            }\n        }\n        if (params.y >= params.contentHeight) {\n            params.y = params.contentHeight\n            if (angle > 270) {\n                params.moveAngle = 360 - params.moveAngle;\n            } else {\n                params.moveAngle = 360 - params.moveAngle;\n            }\n        }\n        if (params.y <= 0) {\n            params.y = 0;\n            if (angle > 90) {\n                params.moveAngle = 360 - params.moveAngle;\n            } else {\n                params.moveAngle = 360 - params.moveAngle;\n            }\n        }\n        const distance = averageSpeed / params.FPS;\n        return this._getXY(params, averageSpeed, params.moveAngle);\n    }\n    _getXY(params, speed, angle) {\n        const pai = 0.017453293;\n        const distance = speed / params.FPS;\n        const y = -distance * Math.sin(angle * pai);\n        const x = distance * Math.cos(angle * pai);\n        params.x += x;\n        params.y += y;\n        params.x = params.x < 0 ? 0 : params.x;\n        params.y = params.y < 0 ? 0 : params.y;\n        params.x = params.x > params.contentWidth ? params.contentWidth : params.x;\n        params.y = params.y > params.contentHeight ? params.contentHeight : params.y;\n        return {\n            x: params.x,\n            y: params.y\n        }\n    }\n    _getMovePath(fn) {\n        let movePath = [];\n        for (let i = 0; i < 100000; i++) {\n            const res = fn();\n            if (!res) break;\n            movePath.push(res);\n        }\n        movePath.reverse();\n        return movePath;\n    }\n    _getNextFsAttractInfo(params) {\n        let angle = 0;\n        if (params.x > params.contentWidth) {\n            params.x = params.contentWidth;\n            angle = 180;\n            params.speed = -params.speed;\n        }\n        let endSpeed = params.speed + params.attractSpeed / params.FPS;\n        if (endSpeed <= 0) {\n            endSpeed = 0;\n            angle = 0;\n            params.speed = -params.speed;\n            return;\n        };\n        const averageSpeed = (params.speed + endSpeed) / 2;\n        params.speed = endSpeed;\n        return this._getXY(params, averageSpeed, angle);\n    }\n}\n\nBilliardElement.BilliardElement = BilliardElement;\nmodule.exports = BilliardElement;\n\n\n// WEBPACK FOOTER //\n// ./src/billiard-element.js","const { EventEmitter } = require('events');\nclass MyEventEmitter extends EventEmitter {\n    emit() {\n        return super.emit.apply(this,arguments);\n    }\n}\nmodule.exports.MyEventEmitter = MyEventEmitter;\n\n\n// WEBPACK FOOTER //\n// ./src/my-event-emitter.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_events@1.1.1@events/events.js\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}