{"version":3,"sources":["webpack:///billiard-element.min.js","webpack:///webpack/bootstrap 27dc6e4b4edfdbaa05b9","webpack:///./src/billiard-element.js","webpack:///./src/my-event-emitter.js","webpack:///./node_modules/_events@1.1.1@events/events.js"],"names":["e","a","i","this","modules","__webpack_require__","moduleId","installedModules","exports","module","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","TypeError","create","constructor","value","writable","setPrototypeOf","__proto__","_classCallCheck","instance","Constructor","_createClass","defineProperties","target","props","length","descriptor","key","protoProps","staticProps","_require","MyEventEmitter","prefix","div","document","createElement","style","cssText","console","log","webkitTransition","MozTransition","oTransition","msTransition","TouchDrive","el","_el","_x","_y","_history","_ALLOW_HISTORY","params","_params","event","changedTouches","clientX","clientY","preventDefault","x","y","changeX","changeY","contentWidth","contentHeight","res","timeStamp","history","push","shift","allowHistory","last","lastPreviou","time","speed","Math","sqrt","angle","atan2","BilliardElement","_MyEventEmitter","arguments","undefined","_this","getPrototypeOf","_initElStyle","_interval","status","body","clientWidth","offsetWidth","clientHeight","offsetHeight","_getMoveArea","width","height","frictionSpeed","moveAngle","FPS","touchDriveCoefficient","autoAttractedByWall","attractSpeed","_moveAreaPadding","top","bottom","left","right","_touchDrive","init","addEventListener","start","move","_updateEl","moveRes","end","drive","con","padding","_this2","movePath","_getMovePath","_getNextFsMoveInfo","_move","position","parentEl","getElementsByTagName","areaWidth","areaHeight","animations","resolve","_this3","fpsTime","setInterval","coorChange","pop","clearInterval","endSpeed","averageSpeed","_getXY","distance","sin","cos","fn","reverse","_get","receiver","Function","desc","getOwnPropertyDescriptor","parent","EventEmitter","_EventEmitter","apply","_events","_maxListeners","isFunction","arg","isNumber","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNaN","emit","type","er","handler","len","args","listeners","error","Error","err","context","Array","slice","addListener","listener","newListener","warned","trace","on","once","g","removeListener","fired","list","splice","removeAllListeners","listenerCount","evlistener","emitter"],"mappings":"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","file":"billiard-element.min.js","sourcesContent":["(function(e, a) { for(var i in a) e[i] = a[i]; }(this, /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _require = __webpack_require__(1),\n    MyEventEmitter = _require.MyEventEmitter;\n\nvar prefix = function () {\n    var div = document.createElement('div');\n    var cssText = '-webkit-transition:all .1s; -moz-transition:all .1s; -o-transition:all .1s; -ms-transition:all .1s; transition:all .1s;';\n    div.style.cssText = cssText;\n    var style = div.style;\n    console.log(\"asasdsasddaadasdas\");\n    if (style.webkitTransition) {\n        return 'WebkitTransform';\n    }\n    if (style.MozTransition) {\n        return 'MozTransform';\n    }\n    if (style.oTransition) {\n        return 'oTransform';\n    }\n    if (style.msTransition) {\n        return 'msTransform';\n    }\n    return 'transform';\n}();\n\nvar TouchDrive = function () {\n    function TouchDrive(el) {\n        _classCallCheck(this, TouchDrive);\n\n        this._el = el;\n        this._x = 0;\n        this._y = 0;\n        this._history = [];\n        this._ALLOW_HISTORY = 3;\n    }\n\n    _createClass(TouchDrive, [{\n        key: 'init',\n        value: function init(params) {\n            this._params = params;\n            return this;\n        }\n    }, {\n        key: 'start',\n        value: function start(event) {\n            //event.preventDefault();\n            this._x = event.changedTouches[0].clientX;\n            this._y = event.changedTouches[0].clientY;\n        }\n    }, {\n        key: 'move',\n        value: function move(event) {\n            event.preventDefault();\n            var x = event.changedTouches[0].clientX;\n            var y = event.changedTouches[0].clientY;\n            var changeX = x - this._x;\n            var changeY = y - this._y;\n            this._x = x;\n            this._y = y;\n            var p = this._params;\n            p.x += changeX;\n            p.y += changeY;\n            p.x = p.x < 0 ? 0 : p.x;\n            p.y = p.y < 0 ? 0 : p.y;\n            p.x = p.x > p.contentWidth ? p.contentWidth : p.x;\n            p.y = p.y > p.contentHeight ? p.contentHeight : p.y;\n            var res = {\n                x: x,\n                y: y,\n                timeStamp: event.timeStamp\n            };\n            var history = this._history;\n            history.push(res);\n            if (history.length > this._ALLOW_HISTORY) {\n                history.shift();\n            }\n            return this;\n        }\n    }, {\n        key: 'end',\n        value: function end(event) {\n            //event.preventDefault();\n            var history = this._history;\n            var allowHistory = this._ALLOW_HISTORY;\n            if (history.length < allowHistory) {\n                this._history = [];\n                return false;\n            };\n            //console.log(history.length);\n            var last = history[history.length - 1];\n            var lastPreviou = history[history.length - 2];\n            var changeX = last.x - lastPreviou.x;\n            var changeY = last.y - lastPreviou.y;\n            var time = last.timeStamp - lastPreviou.timeStamp;\n            var speed = Math.sqrt(changeX * changeX + changeY * changeY) * 1000 / time;\n            if (speed < 500) {\n                this._history = [];\n                return false;\n            };\n            var pi = 3.1415926535898;\n            var angle = Math.atan2(-changeY, changeX) * 180 / pi;\n            if (angle < 0) angle = 360 + angle;\n            this._history = [];\n            return {\n                speed: speed,\n                angle: angle\n            };\n        }\n    }]);\n\n    return TouchDrive;\n}();\n\nvar BilliardElement = function (_MyEventEmitter) {\n    _inherits(BilliardElement, _MyEventEmitter);\n\n    _createClass(BilliardElement, null, [{\n        key: 'create',\n        value: function create(el) {\n            var autoStart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n            return new this(el, autoStart);\n        }\n    }]);\n\n    function BilliardElement(el) {\n        var autoStart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n        _classCallCheck(this, BilliardElement);\n\n        var _this = _possibleConstructorReturn(this, (BilliardElement.__proto__ || Object.getPrototypeOf(BilliardElement)).call(this));\n\n        _this._el = el;\n        _this._initElStyle(el);\n        _this._interval = null;\n        _this.status = 'static'; // 'static' | 'moving'\n        var body = document.body;\n        var contentWidth = body.clientWidth - el.offsetWidth;\n        var contentHeight = body.clientHeight - el.offsetHeight;\n        var area = _this._getMoveArea(el);\n        //console.log({el: el});\n        _this._params = {\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0,\n            contentWidth: contentWidth,\n            contentHeight: contentHeight,\n            speed: 0,\n            frictionSpeed: 1000,\n            moveAngle: 0,\n            FPS: 50,\n            touchDriveCoefficient: 1,\n            autoAttractedByWall: true,\n            attractSpeed: 400\n        };\n        _this._moveAreaPadding = {\n            top: 0,\n            bottom: 0,\n            left: 0,\n            right: 0\n        };\n        _this._touchDrive = new TouchDrive(el).init(_this._params);\n        el.addEventListener('touchstart', function (e) {\n            _this._touchDrive.start(e);\n        });\n        el.addEventListener('touchmove', function (e) {\n            _this._touchDrive.move(e);\n            _this._updateEl(_this._params.x, _this._params.y);\n        });\n        el.addEventListener('touchend', function (e) {\n            var moveRes = _this._touchDrive.end(e);\n            if (!!moveRes) {\n                var speed = moveRes.speed * _this._params.touchDriveCoefficient;\n                _this.drive(speed, moveRes.angle);\n            }\n        });\n        return _this;\n    }\n\n    _createClass(BilliardElement, [{\n        key: 'config',\n        value: function config() {\n            var con = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            var p = this._params;\n            p.width = con.width || p.width;\n            p.height = con.height || p.height;\n            p.FPS = con.FPS || p.FPS;\n            p.frictionSpeed = con.frictionSpeed || p.frictionSpeed;\n            p.touchDriveCoefficient = con.touchDriveCoefficient || p.touchDriveCoefficient;\n            var body = document.body;\n            if (!!con.width) {\n                p.contentWidth = body.clientWidth - con.width;\n            }\n            if (!!con.height) {\n                p.contentHeight = body.clientHeight - con.height;\n            }\n            p.x = con.top || p.x;\n            p.y = con.left || p.y;\n            if (!!con.right) p.x = p.contentWidth - con.right;\n            if (!!con.bottom) p.y = p.contentHeight - con.bottom;\n            this._updateEl(p.x, p.y);\n            return this;\n        }\n    }, {\n        key: 'setMoveAreaPadding',\n        value: function setMoveAreaPadding() {\n            var con = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            var body = document.body;\n            var padding = this._moveAreaPadding;\n            var p = this._params;\n            var style = this._el.style;\n            style.top = (padding.top = con.top || padding.top) + 'px';\n            style.left = (padding.left = con.left || padding.left) + 'px';\n            padding.bottom = con.bottom || padding.bottom;\n            padding.right = con.right || padding.right;\n            p.contentWidth = body.clientWidth - p.width - padding.left - padding.right;\n            p.contentHeight = body.clientHeight - p.height - padding.top - padding.right;\n            return this;\n        }\n    }, {\n        key: 'drive',\n        value: function drive(speed, angle) {\n            var _this2 = this;\n\n            if (typeof speed !== 'number' && typeof angle !== 'number') throw 'speed or angle not matching';\n            if (this.status === 'moving') return undefined;\n            this._params.speed = speed;\n            this._params.moveAngle = angle;\n            var movePath = this._getMovePath(function (res) {\n                return _this2._getNextFsMoveInfo(_this2._params);\n            });\n            this._move(movePath);\n            return this;\n        }\n    }, {\n        key: '_initElStyle',\n        value: function _initElStyle(el) {\n            el.style.position = 'fixed';\n            el.style.top = \"0px\";\n            el.style.left = \"0px\";\n            return this;\n        }\n    }, {\n        key: '_getMoveArea',\n        value: function _getMoveArea(el) {\n            var parentEl = document.getElementsByTagName('body')[0];\n            var areaWidth = parentEl.offsetWidth - el.offsetWidth;\n            var areaHeight = parentEl.offsetHeight - el.offsetHeight;\n            return {\n                areaWidth: areaWidth,\n                areaHeight: areaHeight\n            };\n        }\n    }, {\n        key: '_updateEl',\n        value: function _updateEl(x, y) {\n            this._el.style[prefix] = \"translate(\" + x + \"px,\" + y + 'px)';\n            return this;\n        }\n    }, {\n        key: '_move',\n        value: function _move(animations, resolve) {\n            var _this3 = this;\n\n            var style = this._el.style;\n            var fpsTime = 1000 / this._params.FPS;\n            this.status = 'moving';\n            this._interval = setInterval(function () {\n                var coorChange = animations.pop();\n                if (!coorChange) {\n                    clearInterval(_this3._interval);\n                    _this3.status = 'static';\n                    return;\n                };\n                _this3._updateEl(coorChange.x, coorChange.y);\n            }, fpsTime);\n            return this;\n        }\n    }, {\n        key: '_getNextFsMoveInfo',\n        value: function _getNextFsMoveInfo(params) {\n            var angle = params.moveAngle;\n            var endSpeed = params.speed - params.frictionSpeed / params.FPS;\n            if (endSpeed <= 0) {\n                endSpeed = 0;\n                return;\n            };\n            var averageSpeed = (params.speed + endSpeed) / 2;\n            params.speed = endSpeed;\n            if (params.x >= params.contentWidth) {\n                params.x = params.contentWidth;\n                if (angle > 270) {\n                    params.moveAngle = 180 - params.moveAngle;\n                } else {\n                    params.moveAngle = 180 - params.moveAngle;\n                }\n            }\n            if (params.x <= 0) {\n                params.x = 0;\n                if (angle > 180) {\n                    params.moveAngle = 180 - params.moveAngle;\n                } else {\n                    params.moveAngle = 180 - params.moveAngle;\n                }\n            }\n            if (params.y >= params.contentHeight) {\n                params.y = params.contentHeight;\n                if (angle > 270) {\n                    params.moveAngle = 360 - params.moveAngle;\n                } else {\n                    params.moveAngle = 360 - params.moveAngle;\n                }\n            }\n            if (params.y <= 0) {\n                params.y = 0;\n                if (angle > 90) {\n                    params.moveAngle = 360 - params.moveAngle;\n                } else {\n                    params.moveAngle = 360 - params.moveAngle;\n                }\n            }\n            var distance = averageSpeed / params.FPS;\n            return this._getXY(params, averageSpeed, params.moveAngle);\n        }\n    }, {\n        key: '_getXY',\n        value: function _getXY(params, speed, angle) {\n            var pai = 0.017453293;\n            var distance = speed / params.FPS;\n            var y = -distance * Math.sin(angle * pai);\n            var x = distance * Math.cos(angle * pai);\n            params.x += x;\n            params.y += y;\n            params.x = params.x < 0 ? 0 : params.x;\n            params.y = params.y < 0 ? 0 : params.y;\n            params.x = params.x > params.contentWidth ? params.contentWidth : params.x;\n            params.y = params.y > params.contentHeight ? params.contentHeight : params.y;\n            return {\n                x: params.x,\n                y: params.y\n            };\n        }\n    }, {\n        key: '_getMovePath',\n        value: function _getMovePath(fn) {\n            var movePath = [];\n            for (var i = 0; i < 100000; i++) {\n                var res = fn();\n                if (!res) break;\n                movePath.push(res);\n            }\n            movePath.reverse();\n            return movePath;\n        }\n    }, {\n        key: '_getNextFsAttractInfo',\n        value: function _getNextFsAttractInfo(params) {\n            var angle = 0;\n            if (params.x > params.contentWidth) {\n                params.x = params.contentWidth;\n                angle = 180;\n                params.speed = -params.speed;\n            }\n            var endSpeed = params.speed + params.attractSpeed / params.FPS;\n            if (endSpeed <= 0) {\n                endSpeed = 0;\n                angle = 0;\n                params.speed = -params.speed;\n                return;\n            };\n            var averageSpeed = (params.speed + endSpeed) / 2;\n            params.speed = endSpeed;\n            return this._getXY(params, averageSpeed, angle);\n        }\n    }]);\n\n    return BilliardElement;\n}(MyEventEmitter);\n\nBilliardElement.BilliardElement = BilliardElement;\nmodule.exports = BilliardElement;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _require = __webpack_require__(2),\n    EventEmitter = _require.EventEmitter;\n\nvar MyEventEmitter = function (_EventEmitter) {\n    _inherits(MyEventEmitter, _EventEmitter);\n\n    function MyEventEmitter() {\n        _classCallCheck(this, MyEventEmitter);\n\n        return _possibleConstructorReturn(this, (MyEventEmitter.__proto__ || Object.getPrototypeOf(MyEventEmitter)).apply(this, arguments));\n    }\n\n    _createClass(MyEventEmitter, [{\n        key: 'emit',\n        value: function emit() {\n            return _get(MyEventEmitter.prototype.__proto__ || Object.getPrototypeOf(MyEventEmitter.prototype), 'emit', this).apply(this, arguments);\n        }\n    }]);\n\n    return MyEventEmitter;\n}(EventEmitter);\n\nmodule.exports.MyEventEmitter = MyEventEmitter;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n/***/ })\n/******/ ])));\n\n\n// WEBPACK FOOTER //\n// billiard-element.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 27dc6e4b4edfdbaa05b9","const {\n    MyEventEmitter\n} = require('./my-event-emitter.js');\n\n\nlet prefix = function() {\n    var div = document.createElement('div');\n    var cssText = '-webkit-transition:all .1s; -moz-transition:all .1s; -o-transition:all .1s; -ms-transition:all .1s; transition:all .1s;';\n    div.style.cssText = cssText;\n    var style = div.style;\n    console.log(\"asasdsasddaadasdas\");\n    if (style.webkitTransition) {\n        return 'WebkitTransform';\n    }\n    if (style.MozTransition) {\n        return 'MozTransform';\n    }\n    if (style.oTransition) {\n        return 'oTransform';\n    }\n    if (style.msTransition) {\n        return 'msTransform';\n    }\n    return 'transform';\n}();\n\nclass TouchDrive {\n    constructor(el) {\n        this._el = el;\n        this._x = 0;\n        this._y = 0;\n        this._history = [];\n        this._ALLOW_HISTORY = 3;\n    }\n    init(params) {\n        this._params = params;\n        return this;\n    }\n    start(event) {\n        //event.preventDefault();\n        this._x = event.changedTouches[0].clientX;\n        this._y = event.changedTouches[0].clientY;\n    }\n    move(event) {\n        event.preventDefault();\n        const x = event.changedTouches[0].clientX;\n        const y = event.changedTouches[0].clientY;\n        const changeX = x - this._x;\n        const changeY = y - this._y;\n        this._x = x;\n        this._y = y;\n        let p = this._params;\n        p.x += changeX;\n        p.y += changeY;\n        p.x = p.x < 0 ? 0 : p.x;\n        p.y = p.y < 0 ? 0 : p.y;\n        p.x = p.x > p.contentWidth ? p.contentWidth : p.x;\n        p.y = p.y > p.contentHeight ? p.contentHeight : p.y;\n        const res = {\n            x: x,\n            y: y,\n            timeStamp: event.timeStamp\n        }\n        let history = this._history;\n        history.push(res);\n        if (history.length > this._ALLOW_HISTORY) {\n            history.shift();\n        }\n        return this;\n    }\n    end(event) {\n        //event.preventDefault();\n        let history = this._history;\n        const allowHistory = this._ALLOW_HISTORY;\n        if (history.length < allowHistory) {\n            this._history = [];\n            return false;\n        };\n        //console.log(history.length);\n        const last = history[history.length - 1];\n        const lastPreviou = history[history.length - 2];\n        const changeX = last.x - lastPreviou.x;\n        const changeY = last.y - lastPreviou.y;\n        const time = last.timeStamp - lastPreviou.timeStamp;\n        let speed = Math.sqrt(changeX * changeX + changeY * changeY) * 1000 / time;\n        if (speed < 500) {\n            this._history = [];\n            return false;\n        };\n        const pi = 3.1415926535898\n        let angle = Math.atan2(-changeY, changeX) * 180 / pi;\n        if (angle < 0) angle = 360 + angle;\n        this._history = [];\n        return {\n            speed: speed,\n            angle: angle\n        }\n    }\n}\nclass BilliardElement extends MyEventEmitter {\n    static create(el, autoStart = true) {\n        return new this(el, autoStart);\n    }\n    constructor(el, autoStart = true) {\n        super();\n        this._el = el;\n        this._initElStyle(el);\n        this._interval = null;\n        this.status = 'static'; // 'static' | 'moving'\n        const body = document.body;\n        const contentWidth = body.clientWidth - el.offsetWidth;\n        const contentHeight = body.clientHeight - el.offsetHeight;\n        const area = this._getMoveArea(el);\n        //console.log({el: el});\n        this._params = {\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0,\n            contentWidth: contentWidth,\n            contentHeight: contentHeight,\n            speed: 0,\n            frictionSpeed: 1000,\n            moveAngle: 0,\n            FPS: 50,\n            touchDriveCoefficient: 1,\n            autoAttractedByWall: true,\n            attractSpeed: 400\n        };\n        this._moveAreaPadding = {\n            top: 0,\n            bottom: 0,\n            left: 0,\n            right: 0\n        };\n        this._touchDrive = (new TouchDrive(el)).init(this._params);\n        el.addEventListener('touchstart', e => {\n            this._touchDrive.start(e);\n        });\n        el.addEventListener('touchmove', e => {\n            this._touchDrive.move(e);\n            this._updateEl(this._params.x, this._params.y);\n        });\n        el.addEventListener('touchend', e => {\n            let moveRes = this._touchDrive.end(e);\n            if (!!moveRes) {\n                const speed = moveRes.speed * this._params.touchDriveCoefficient;\n                this.drive(speed, moveRes.angle);\n            }\n        });\n    }\n    config(con = {}) {\n        let p = this._params;\n        p.width = con.width || p.width;\n        p.height = con.height || p.height;\n        p.FPS = con.FPS || p.FPS;\n        p.frictionSpeed = con.frictionSpeed || p.frictionSpeed;\n        p.touchDriveCoefficient = con.touchDriveCoefficient || p.touchDriveCoefficient;\n        const body = document.body;\n        if(!!con.width) {\n            p.contentWidth = body.clientWidth - con.width;\n        }\n        if(!!con.height) {\n            p.contentHeight = body.clientHeight - con.height;\n        }\n        p.x = con.top || p.x;\n        p.y = con.left || p.y;\n        if(!!con.right) p.x = p.contentWidth - con.right;\n        if(!!con.bottom) p.y = p.contentHeight - con.bottom;\n        this._updateEl(p.x, p.y);\n        return this;\n    }\n    setMoveAreaPadding(con = {}) {\n        const body = document.body;\n        let padding = this._moveAreaPadding;\n        let p = this._params;\n        let style = this._el.style;\n        style.top = (padding.top = con.top|| padding.top) + 'px';\n        style.left = (padding.left = con.left|| padding.left) + 'px';\n        padding.bottom = con.bottom|| padding.bottom;\n        padding.right = con.right|| padding.right\n        p.contentWidth = body.clientWidth - p.width - padding.left - padding.right;\n        p.contentHeight = body.clientHeight - p.height - padding.top  - padding.right;\n        return this;\n    }\n    drive(speed, angle) {\n        if (typeof speed !== 'number' && typeof angle !== 'number')\n            throw 'speed or angle not matching';\n        if (this.status === 'moving') return undefined;\n        this._params.speed = speed;\n        this._params.moveAngle = angle;\n        let movePath = this._getMovePath(res => {\n            return this._getNextFsMoveInfo(this._params);\n        });\n        this._move(movePath);\n        return this;\n    }\n    _initElStyle(el) {\n        el.style.position = 'fixed';\n        el.style.top = \"0px\";\n        el.style.left = \"0px\";\n        return this;\n    }\n    _getMoveArea(el) {\n        const parentEl = document.getElementsByTagName('body')[0];\n        const areaWidth = parentEl.offsetWidth - el.offsetWidth;\n        const areaHeight = parentEl.offsetHeight - el.offsetHeight;\n        return {\n            areaWidth: areaWidth,\n            areaHeight: areaHeight\n        }\n    }\n    _updateEl(x, y) {\n        this._el.style[prefix] = \"translate(\" + x + \"px,\" + y + 'px)';\n        return this;\n    }\n    _move(animations, resolve) {\n        const style = this._el.style;\n        const fpsTime = 1000 / this._params.FPS;\n        this.status = 'moving';\n        this._interval = setInterval(() => {\n            const coorChange = animations.pop();\n            if (!coorChange) {\n                clearInterval(this._interval);\n                this.status = 'static';\n                return;\n            };\n            this._updateEl(coorChange.x, coorChange.y);\n        }, fpsTime);\n        return this;\n    }\n    _getNextFsMoveInfo(params) {\n        const angle = params.moveAngle;\n        let endSpeed = params.speed - params.frictionSpeed / params.FPS;\n        if (endSpeed <= 0) {\n            endSpeed = 0;\n            return;\n        };\n        const averageSpeed = (params.speed + endSpeed) / 2;\n        params.speed = endSpeed;\n        if (params.x >= params.contentWidth) {\n            params.x = params.contentWidth;\n            if (angle > 270) {\n                params.moveAngle = 180 - params.moveAngle;\n            } else {\n                params.moveAngle = 180 - params.moveAngle;\n            }\n        }\n        if (params.x <= 0) {\n            params.x = 0;\n            if (angle > 180) {\n                params.moveAngle = 180 - params.moveAngle;\n            } else {\n                params.moveAngle = 180 - params.moveAngle;\n            }\n        }\n        if (params.y >= params.contentHeight) {\n            params.y = params.contentHeight\n            if (angle > 270) {\n                params.moveAngle = 360 - params.moveAngle;\n            } else {\n                params.moveAngle = 360 - params.moveAngle;\n            }\n        }\n        if (params.y <= 0) {\n            params.y = 0;\n            if (angle > 90) {\n                params.moveAngle = 360 - params.moveAngle;\n            } else {\n                params.moveAngle = 360 - params.moveAngle;\n            }\n        }\n        const distance = averageSpeed / params.FPS;\n        return this._getXY(params, averageSpeed, params.moveAngle);\n    }\n    _getXY(params, speed, angle) {\n        const pai = 0.017453293;\n        const distance = speed / params.FPS;\n        const y = -distance * Math.sin(angle * pai);\n        const x = distance * Math.cos(angle * pai);\n        params.x += x;\n        params.y += y;\n        params.x = params.x < 0 ? 0 : params.x;\n        params.y = params.y < 0 ? 0 : params.y;\n        params.x = params.x > params.contentWidth ? params.contentWidth : params.x;\n        params.y = params.y > params.contentHeight ? params.contentHeight : params.y;\n        return {\n            x: params.x,\n            y: params.y\n        }\n    }\n    _getMovePath(fn) {\n        let movePath = [];\n        for (let i = 0; i < 100000; i++) {\n            const res = fn();\n            if (!res) break;\n            movePath.push(res);\n        }\n        movePath.reverse();\n        return movePath;\n    }\n    _getNextFsAttractInfo(params) {\n        let angle = 0;\n        if (params.x > params.contentWidth) {\n            params.x = params.contentWidth;\n            angle = 180;\n            params.speed = -params.speed;\n        }\n        let endSpeed = params.speed + params.attractSpeed / params.FPS;\n        if (endSpeed <= 0) {\n            endSpeed = 0;\n            angle = 0;\n            params.speed = -params.speed;\n            return;\n        };\n        const averageSpeed = (params.speed + endSpeed) / 2;\n        params.speed = endSpeed;\n        return this._getXY(params, averageSpeed, angle);\n    }\n}\n\nBilliardElement.BilliardElement = BilliardElement;\nmodule.exports = BilliardElement;\n\n\n// WEBPACK FOOTER //\n// ./src/billiard-element.js","const { EventEmitter } = require('events');\nclass MyEventEmitter extends EventEmitter {\n    emit() {\n        return super.emit.apply(this,arguments);\n    }\n}\nmodule.exports.MyEventEmitter = MyEventEmitter;\n\n\n// WEBPACK FOOTER //\n// ./src/my-event-emitter.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_events@1.1.1@events/events.js\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}